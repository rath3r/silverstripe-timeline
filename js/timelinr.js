/*!
* lg-timeline - v0.0.2 - 2015-11-09
*/
function autoPlay(){var a=$(settings.datesDiv).find("li."+settings.datesSelectedClass+" a");"forward"==settings.autoPlayDirection?a.parent().is("li:last-child")?$(settings.datesDiv+" li:first-child").find("a").trigger("click"):a.parent().next().find("a").trigger("click"):"backward"==settings.autoPlayDirection&&(a.parent().is("li:first-child")?$(settings.datesDiv+" li:last-child").find("a").trigger("click"):a.parent().prev().find("a").trigger("click"))}jQuery.fn.timelinr=function(a){settings=jQuery.extend({orientation:"horizontal",containerDiv:"#timeline",datesDiv:"#dates",datesSelectedClass:"selected",datesSpeed:"normal",issuesDiv:"#issues",issuesSelectedClass:"selected",issuesSpeed:"fast",issuesTransparency:.2,issuesTransparencySpeed:500,prevButton:"#prev",nextButton:"#next",arrowKeys:"false",startAt:1,autoPlay:!1,autoPlayDirection:"forward",autoPlayPause:2e3},a),$(function(){function a(){$("#issues").children().width($(".container").width()),$("#time-line-holder").height("auto"),e=0,$("#issues").children().css("height","auto"),$("#issues").children().each(function(){$(this).height()>e&&(e=$(this).height())}),$("#issues").children().height(e),$("#time-line-holder").height(e+280),"horizontal"==settings.orientation?(d=$(settings.issuesDiv+" li").width(),b=$(settings.containerDiv).width(),$(settings.issuesDiv).width(d*h),$(settings.datesDiv).width(j*g).css("marginLeft",b/2-j/2),f=parseInt($(settings.datesDiv).css("marginLeft").substring(0,$(settings.datesDiv).css("marginLeft").indexOf("px")))):"vertical"==settings.orientation&&(c=$(settings.containerDiv).height(),$(settings.issuesDiv).height(i*h),$(settings.datesDiv).height(k*g).css("marginTop",c/2-k/2),f=parseInt($(settings.datesDiv).css("marginTop").substring(0,$(settings.datesDiv).css("marginTop").indexOf("px"))))}var b,c,d,e,f,g=$(settings.datesDiv+" li").length,h=$(settings.issuesDiv+" li").length,i=$(settings.issuesDiv+" li").height(),j=$(settings.datesDiv+" li").width(),k=$(settings.datesDiv+" li").height();a(),$(settings.datesDiv+" a").click(function(a){a.preventDefault();var b=$(this).parent().prevAll().length;"horizontal"==settings.orientation?$(settings.issuesDiv).animate({marginLeft:-d*b},{queue:!1,duration:settings.issuesSpeed}):"vertical"==settings.orientation&&$(settings.issuesDiv).animate({marginTop:-i*b},{queue:!1,duration:settings.issuesSpeed}),$(settings.issuesDiv+" li").animate({opacity:settings.issuesTransparency},{queue:!1,duration:settings.issuesSpeed}).removeClass(settings.issuesSelectedClass).eq(b).addClass(settings.issuesSelectedClass).fadeTo(settings.issuesTransparencySpeed,1),1==g?$(settings.prevButton+","+settings.nextButton).fadeOut("fast"):2==g?$(settings.issuesDiv+" li:first-child").hasClass(settings.issuesSelectedClass)?($(settings.prevButton).fadeOut("fast"),$(settings.nextButton).fadeIn("fast")):$(settings.issuesDiv+" li:last-child").hasClass(settings.issuesSelectedClass)&&($(settings.nextButton).fadeOut("fast"),$(settings.prevButton).fadeIn("fast")):$(settings.issuesDiv+" li:first-child").hasClass(settings.issuesSelectedClass)?($(settings.nextButton).fadeIn("fast"),$(settings.prevButton).fadeOut("fast")):$(settings.issuesDiv+" li:last-child").hasClass(settings.issuesSelectedClass)?($(settings.prevButton).fadeIn("fast"),$(settings.nextButton).fadeOut("fast")):$(settings.nextButton+","+settings.prevButton).fadeIn("slow"),$(settings.datesDiv+" li").removeClass(settings.datesSelectedClass),$(this).parent().addClass(settings.datesSelectedClass),"horizontal"==settings.orientation?$(settings.datesDiv).animate({marginLeft:f-j*b},{queue:!1,duration:"settings.datesSpeed"}):"vertical"==settings.orientation&&$(settings.datesDiv).animate({marginTop:f-k*b},{queue:!1,duration:"settings.datesSpeed"})}),$(settings.nextButton).bind("click",function(a){a.preventDefault();var b,c=$(settings.issuesDiv).find("li."+settings.issuesSelectedClass).index();"horizontal"==settings.orientation?(b=parseInt($(settings.issuesDiv).css("marginLeft").substring(0,$(settings.issuesDiv).css("marginLeft").indexOf("px"))),-(d*h-d)>=b?($(settings.issuesDiv).stop(),$(settings.datesDiv+" li:last-child a").click()):$(settings.issuesDiv).is(":animated")||$(settings.datesDiv+" li").eq(c+1).find("a").trigger("click")):"vertical"==settings.orientation&&(b=parseInt($(settings.issuesDiv).css("marginTop").substring(0,$(settings.issuesDiv).css("marginTop").indexOf("px"))),-(i*h-i)>=b?($(settings.issuesDiv).stop(),$(settings.datesDiv+" li:last-child a").click()):$(settings.issuesDiv).is(":animated")||$(settings.datesDiv+" li").eq(c+1).find("a").trigger("click")),1==g?$(settings.prevButton+","+settings.nextButton).fadeOut("fast"):2==g?$(settings.issuesDiv+" li:first-child").hasClass(settings.issuesSelectedClass)?($(settings.prevButton).fadeOut("fast"),$(settings.nextButton).fadeIn("fast")):$(settings.issuesDiv+" li:last-child").hasClass(settings.issuesSelectedClass)&&($(settings.nextButton).fadeOut("fast"),$(settings.prevButton).fadeIn("fast")):$(settings.issuesDiv+" li:first-child").hasClass(settings.issuesSelectedClass)?$(settings.prevButton).fadeOut("fast"):$(settings.issuesDiv+" li:last-child").hasClass(settings.issuesSelectedClass)?$(settings.nextButton).fadeOut("fast"):$(settings.nextButton+","+settings.prevButton).fadeIn("slow")}),$(settings.prevButton).click(function(a){a.preventDefault();var b,c=$(settings.issuesDiv).find("li."+settings.issuesSelectedClass).index();"horizontal"==settings.orientation?(b=parseInt($(settings.issuesDiv).css("marginLeft").substring(0,$(settings.issuesDiv).css("marginLeft").indexOf("px"))),b>=0?($(settings.issuesDiv).stop(),$(settings.datesDiv+" li:first-child a").click()):$(settings.issuesDiv).is(":animated")||$(settings.datesDiv+" li").eq(c-1).find("a").trigger("click")):"vertical"==settings.orientation&&(b=parseInt($(settings.issuesDiv).css("marginTop").substring(0,$(settings.issuesDiv).css("marginTop").indexOf("px"))),b>=0?($(settings.issuesDiv).stop(),$(settings.datesDiv+" li:first-child a").click()):$(settings.issuesDiv).is(":animated")||$(settings.datesDiv+" li").eq(c-1).find("a").trigger("click")),1==g?$(settings.prevButton+","+settings.nextButton).fadeOut("fast"):2==g?$(settings.issuesDiv+" li:first-child").hasClass(settings.issuesSelectedClass)?($(settings.prevButton).fadeOut("fast"),$(settings.nextButton).fadeIn("fast")):$(settings.issuesDiv+" li:last-child").hasClass(settings.issuesSelectedClass)&&($(settings.nextButton).fadeOut("fast"),$(settings.prevButton).fadeIn("fast")):$(settings.issuesDiv+" li:first-child").hasClass(settings.issuesSelectedClass)?$(settings.prevButton).fadeOut("fast"):$(settings.issuesDiv+" li:last-child").hasClass(settings.issuesSelectedClass)?$(settings.nextButton).fadeOut("fast"):$(settings.nextButton+","+settings.prevButton).fadeIn("slow")}),$(window).resize(function(){a()}),Modernizr.touch&&window.addEventListener("orientationchange",function(){a()},!1),"true"==settings.arrowKeys&&("horizontal"==settings.orientation?$(document).keydown(function(a){39==a.keyCode&&$(settings.nextButton).click(),37==a.keyCode&&$(settings.prevButton).click()}):"vertical"==settings.orientation&&$(document).keydown(function(a){40==a.keyCode&&$(settings.nextButton).click(),38==a.keyCode&&$(settings.prevButton).click()})),$(settings.datesDiv+" li").eq(settings.startAt-1).find("a").trigger("click"),settings.autoPlay===!0&&setInterval(autoPlay,settings.autoPlayPause)})};